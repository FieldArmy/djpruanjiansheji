(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19be12fc"],{"2f92":function(t,s,e){"use strict";e("5bc4")},"5bc4":function(t,s,e){},"71b2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"big_title"},[t._v(" 院校对比 ")]),e("div",{staticClass:"input-box"},[e("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.searchData,placeholder:"输入院校直接添加"},on:{select:t.handleSelect},model:{value:t.search_data,callback:function(s){t.search_data=s},expression:"search_data"}}),e("el-button",{attrs:{type:"warning"},on:{click:t.clearAllData}},[t._v("重置")])],1),e("div",{staticClass:"test-box"},t._l(t.contrast_data,(function(s,a){return e("div",{key:a,staticClass:"box-item"},[e("div",{staticClass:"logo-tit-box",on:{click:function(e){return t.goToSchool(s.sid)}}},[e("div",{staticClass:"class_logo"},[s.logo_img?e("img",{attrs:{src:s.logo_img}}):e("span",[t._v("学校logo")])]),e("div",{staticClass:"cls-tit"},[t._v(t._s(s.school_name))])]),e("div",{staticClass:"other_msg"},[e("div",{staticClass:"cls-type"},t._l(s["type_arr"],(function(s,a){return e("span",{key:a,staticClass:"item-type"},[t._v(t._s(s))])})),0),e("el-divider"),e("div",{staticClass:"cls-ade"},[e("div",[t._m(0,!0),e("span",[t._v(t._s(s.time))])]),e("div",[t._m(1,!0),e("span",[t._v(t._s(s.member))])]),e("div",[t._m(2,!0),e("span",[t._v(t._s(s.address))])]),e("div",[t._m(3,!0),e("span",[t._v(t._s(s.zhandi))])]),e("div",[t._m(4,!0),Boolean(s.shengxue)?e("span",{staticStyle:{color:"#67C23A"}},[t._v(t._s(s.shengxue)+"%")]):t._e()]),e("div",[t._m(5,!0),s.shuoshi?e("span",{staticClass:"yes"},[t._v("有硕士点")]):e("span",{staticClass:"no"},[t._v("无硕士点")])]),e("div",[t._m(6,!0),s.boshi?e("span",{staticClass:"yes"},[t._v("有博士点")]):e("span",{staticClass:"no"},[t._v("无博士点")])])]),e("el-divider"),e("div",{staticClass:"sex"},[e("div",[t._m(7,!0),e("div",{staticClass:"sex-pro"},[Boolean(s.nan)?e("el-progress",{attrs:{percentage:s.nan}}):e("span",[t._v("暂无数据")])],1)]),e("div",[t._m(8,!0),e("div",{staticClass:"sex-pro"},[Boolean(s.nv)?e("el-progress",{attrs:{percentage:s.nv,color:"#e6a23c"}}):e("span",[t._v("暂无数据")])],1)])]),e("el-divider"),e("div",{staticClass:"cls-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:s.all_scores}},[e("el-table-column",{attrs:{prop:"type",label:"类型"}}),e("el-table-column",{attrs:{prop:"scores",label:"最低分"}}),e("el-table-column",{attrs:{prop:"rank",label:"最低位次"}})],1)],1)],1),e("el-popconfirm",{attrs:{title:"是否删除该条记录？"},on:{confirm:function(e){return t.deleteOneSchool(s,a)}}},[e("div",{staticClass:"delete_but",attrs:{slot:"reference"},slot:"reference"},[t._v(" ╳ ")])])],1)})),0)])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-timer"}),t._v(" 成立时间 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-office-building"}),t._v(" 隶属于 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-location-information"}),t._v(" 地区 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-place"}),t._v(" 占地面积 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-data-line"}),t._v(" 考研升学率 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-s-custom"}),t._v(" 硕士点 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"el-icon-s-custom"}),t._v(" 博士点 ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"sex-img"},[a("img",{attrs:{src:e("cdad"),alt:""}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"sex-img"},[a("img",{attrs:{src:e("521a"),alt:""}})])}],c=e("b85c"),o=e("1da1"),i=(e("99af"),e("ac1f"),e("1276"),e("4de4"),e("fb6a"),e("a434"),e("96cf"),{name:"Contrast",data:function(){return{baseurl:"",search_data:"",contrast_data:[{},{},{},{}],timeOut:""}},methods:{getAllSchool:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e=[],s.next=3,t.axios({method:"get",url:"".concat(t.baseUrl,"/Get_All_School")}).then((function(t){var s=t.data;e=s}));case 3:return s.abrupt("return",e);case 4:case"end":return s.stop()}}),s)})))()},getData:function(){var t=this,s=this.$cookies.get("user_name");this.axios({method:"get",url:"".concat(this.baseUrl,"/Get_School_Contrast/").concat(s)}).then((function(s){var e=s.data;console.log("对比数据",e);var a,n=[],o=Object(c["a"])(e);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(null!==i){var l=i["school_type_cc"].split(" "),r=1==i["school_shuoshi"],_=1==i["school_boshi"],u={type:"本科",scores:i["school_min_scores_bk_2021"],rank:i["school_min_rank_bk_2021"]},h={type:"专科",scores:-1==i["school_min_scores_zk_2021"]?"暂无数据":i["school_min_scores_zk_2021"],rank:-1==i["school_min_rank_zk_2021"]?"暂无数据":i["school_min_rank_zk_2021"]},d={sid:i["id"],logo_img:"".concat(t.baseUrl,"/list/school_logo/").concat(i["school_name"]),school_name:i["school_name"],type_arr:l,time:i["school_time"],member:i["school_bumen"],address:i["school_chengshi"],zhandi:i["school_zhandi"],shuoshi:r,boshi:_,shengxue:i["school_up"],nan:isNaN(parseInt(i["school_nan"]))?0:parseInt(i["school_nan"]),nv:isNaN(parseInt(i["school_nv"]))?0:parseInt(i["school_nv"]),all_scores:[u,h]};n.push(d)}else n.push({})}}catch(m){o.e(m)}finally{o.f()}t.contrast_data=n})).catch((function(s){console.log(s.message),t.$message.warning("获取院校数据失败，请刷新后重试")}))},searchData:function(t,s){var e=this;this.getAllSchool().then((function(a){var n=a,c=t?n.filter(e.creatFilter(t)):n.slice(0,50);clearTimeout(e.timeOut),e.timeOut=setTimeout((function(){s(c)}),3e3*Math.random())}))},creatFilter:function(t){return function(s){return 0===s.value.indexOf(t)}},handleSelect:function(t){var s=this,e=this.$cookies.get("user_name"),a=t["id"];this.axios({method:"get",url:"".concat(this.baseUrl,"/Add_School_Contrast/").concat(e,"/").concat(a)}).then((function(t){var e=t.data;s.$nextTick((function(){"1"===e.code?(s.$message.success("添加成功"),s.getData()):s.$message.warning(e.msg)}))}))},deleteOneSchool:function(t,s){""===t.sid?this.$message.warning("操作有误"):(this.contrast_data.splice(s,1,{}),this.delToEnd(t.sid))},delToEnd:function(t){var s=this,e=this.$cookies.get("user_name");this.axios({method:"get",url:"".concat(this.baseUrl,"/Del_School_Contrast/").concat(e,"/").concat(t)}).then((function(t){var e=t.data;"1"===e.code?s.$message.success("删除成功"):s.$message.warning(e.msg)}))},clearAllData:function(){var t=this,s=this.$cookies.get("user_name");this.$confirm("是否重置所有的数据？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.axios({method:"get",url:"".concat(t.baseUrl,"/Clear_School_Contrast/").concat(s)}).then((function(s){var e=s.data;"1"===e.code?(t.$message.success("重置成功"),t.contrast_data=[{},{},{},{}]):t.$message.warning(e.msg)}))}))},goToSchool:function(t){""===t?this.$message.warning("请选择院校"):this.$router.push({path:"/int",query:{id:t}})}},created:function(){this.getAllSchool(),this.getData()}}),l=i,r=(e("2f92"),e("2877")),_=Object(r["a"])(l,a,n,!1,null,"5eb300ac",null);s["default"]=_.exports}}]);
//# sourceMappingURL=chunk-19be12fc.7db09038.js.map